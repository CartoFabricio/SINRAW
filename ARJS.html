<!DOCTYPE html>
<html>
  <head>
    <title>AR.js + A-Frame Example</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link href="./Bootstrap/bootstrap.css" rel="stylesheet">
    <link href="./Bootstrap/bootstrap-responsive.css" rel="stylesheet">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://getbootstrap.com/2.3.2/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://getbootstrap.com/2.3.2/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://getbootstrap.com/2.3.2/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="https://getbootstrap.com/2.3.2/assets/ico/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="https://getbootstrap.com/2.3.2/assets/ico/favicon.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link type="text/css" rel="stylesheet" href="/icons/GlyphiconsV2/font/glyphicons.css" media="all">
    <link type="text/css" rel="stylesheet" href="/icons/GlyphiconsV2/font/style.css" media="all">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
    <script> THREEx.ArToolkitContext.baseURL = 'https://raw.githack.com/jeromeetienne/ar.js/master/three.js/'</script>


    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.js"></script>
    <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v2.9.2/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.js"></script>
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.css" type="text/css">
    <link rel="stylesheet" href="./style.css" type="text/css">
    <style>


    </style>
  </head>
  <body style="margin: 0; overflow: hidden;">

    <div id="direction" class="direction">  </div>

    <div id="AR_A" class="AR_A" ></div>
    <a-scene embedded arjs="trackingMethod: best;">
      <a-assets>
        <a-asset-item id="pin1" src="https://cdn.glitch.global/c5b64583-63c7-4806-a18f-9da936a15a07/Pin01.glb?v=1661047077855"></a-asset-item>
        <a-asset-item id="pin2" src="https://cdn.glitch.global/c5b64583-63c7-4806-a18f-9da936a15a07/Pin02.glb?v=1661104816276"></a-asset-item>
        <a-asset-item id="pin3" src="https://cdn.glitch.global/c5b64583-63c7-4806-a18f-9da936a15a07/Pin03.glb?v=1661104945189"></a-asset-item>
        <a-asset-item id="seta1" src="https://cdn.glitch.global/c5b64583-63c7-4806-a18f-9da936a15a07/Arrow01.glb?v=1661107739801"></a-asset-item>
        <a-asset-item id="seta2" src="https://cdn.glitch.global/c5b64583-63c7-4806-a18f-9da936a15a07/Arrow02.glb?v=1661107775383"></a-asset-item>
        <a-asset-item id="seta3" src="https://cdn.glitch.global/c5b64583-63c7-4806-a18f-9da936a15a07/Arrow04.glb?v=1661107875653"></a-asset-item>
        <a-asset-item id="seta4" src="https://cdn.glitch.global/c5b64583-63c7-4806-a18f-9da936a15a07/Arrow05.glb?v=1661107882896"></a-asset-item>
      </a-assets>

      <a-entity id="modelContainer"></a-entity>
      <a-entity id="modelContainer1"></a-entity>
      <a-entity id="modelContainer2"></a-entity>


      <a-entity camera></a-entity>
    </a-scene>

  <div id="collapsibleControls" class="collapsible collapsed" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
    <div id="controls">
      <button id="collapseButton" type="button" data-toggle="collapse" style="font-size: 20px" data-target="#collapsibleContent">
        <span class="glyphicon glyphicon-cog" aria-hidden="false"></span>
      </button>
      <div id="collapsibleContent" class="collapse">
        <p>PIN:
          <select id="pinSelector" onchange="loadModel('pin')">
            <option value="pin1">Pin 1 - azul</option>
            <option value="pin2">Pin 2 - roxo</option>
            <option value="pin3">Pin 3 - vermelho</option>
          </select>
        </p>
        <p>SETAS:
          <select id="setaSelector" onchange="loadModel('seta')">
            <option value="seta1">Seta 1 - azul</option>
            <option value="seta2">Seta 2 - azul</option>
            <option value="seta3">Seta 3 - azul</option>
            <option value="seta4">Seta 4 - azul</option>
          </select>
        </p>
        <p>LINHAS:
          <select id="linhaSelector" onchange="loadModel('linha')">
            <option value="linha1">Linha 1 - azul</option>
            <option value="linha2">Linha 2 - azul</option>
            <option value="linha3">Linha 3 - azul</option>
            <option value="linha4">Linha 4 - azul</option>
          </select>
        </p>
      </div>
  </div>
 </div>

    <script>
      // Initialize the selected options
      var selectedPin = '';
      var selectedSeta = '';
      var selectedLinha = '';
// seta1 scale 3 3 3 rotate 0 0 90, seta2 scale 30 30 30 rotate 0 0 0, seta3 scale 30 30 30 rotate 0 0 90 seta 4 scale 3 3 3 rotate 0 0 90

      // Load the model based on the selected option
      function loadModel(type) {
        if (type === 'pin') {
          selectedPin = document.getElementById('pinSelector').value;
          loadPinModel();
        } if (type === 'seta') {
          selectedSeta = document.getElementById('setaSelector').value;
          loadSetaModel();
        } if (type === 'linha') {
          selectedLinha = document.getElementById('linhaSelector').value;
          loadLinhaModel();
        }
      }
      //meio fundo '5 -10 -40', fundo direito '15 -10 -40',
       // Load the Pin model
        function loadPinModel() {
          var modelContainer = document.getElementById('modelContainer');
          modelContainer.innerHTML = '';
          if (selectedPin !== '') {
            var pin = document.createElement('a-entity');
            pin.setAttribute('gltf-model', '#' + selectedPin);
            // Set scale and rotation based on the selected seta
            switch (selectedPin) {
              case 'pin1':
                pin.setAttribute('position', '0 0 -10');
                pin.setAttribute('scale', '1 1 1');
                pin.setAttribute('rotation', '0 0 90');
                break;
              case 'pin2':
                pin.setAttribute('position', '0 0 -1');
                pin.setAttribute('scale', '0.25 0.25 0.25');
                pin.setAttribute('rotation', '0 0 0');
                break;
              case 'pin3':
                pin.setAttribute('position', '0 0 -10');
                pin.setAttribute('scale', '1 1 1');
                pin.setAttribute('rotation', '0 0 0');
                break;
            }
            modelContainer.appendChild(pin);
          }
        }

         // Load the seta model
        function loadSetaModel() {
          var modelContainer1 = document.getElementById('modelContainer1');
          modelContainer1.innerHTML = '';
          if (selectedSeta !== '') {
            var seta = document.createElement('a-entity');
            seta.setAttribute('gltf-model', '#' + selectedSeta);
            // Set scale and rotation based on the selected seta
            switch (selectedSeta) {
              case 'seta1':
            seta.setAttribute('position', '0 0 -10');
                seta.setAttribute('scale', '0.25 0.25 0.25');
                seta.setAttribute('rotation', '0 0 0');
                break;
              case 'seta2':
          seta.setAttribute('position', '0 0 -10');
                seta.setAttribute('scale', '1  1  1 ');
                seta.setAttribute('rotation', '0 0 0');
                break;
              case 'seta3':
            seta.setAttribute('position', '0 0 -10');
                seta.setAttribute('scale', '10 10 10');
                seta.setAttribute('rotation', '0 0 90');
                break;
              case 'seta4':
             seta.setAttribute('position', '0 0 -10');
                seta.setAttribute('scale', '0.25 0.25 0.25');
                seta.setAttribute('rotation', '0 0 90');
                break;
            }
            modelContainer1.appendChild(seta);
          }
        }

      // Load the linha model
      function loadLinhaModel() {
        var modelContainer2= document.getElementById('modelContainer2');
        modelContainer2.innerHTML = '';

        if (selectedLinha !== '') {
          // Add code to load the linha model
        }
      }

      // Toggle the collapsible controls
      function toggleCollapse() {
        var collapsibleControls = document.getElementById('collapsibleControls');
        collapsibleControls.classList.toggle('collapsed');
      }

    </script>
  </body>
</html>
